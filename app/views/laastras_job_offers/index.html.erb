<% outline_elements = [] %>
<% @all_job_offers.each do |offer| %>
    <% outline_elements << {
        content_outline_id: offer[:html_ids][:offer_title_html_id], 
        content_outline_title: offer[:job_offer_title]
    } %>
<% end %>

<%= react_component('LaastrasContentOutline', {
    content_outline_capture: (I18n.t 'these_are_available_job_openings'),
    top_label: (I18n.t 'back_to_top_label'),
    content_outline_elements: outline_elements # {content_outline_id:, content_outline_title:}
})%>

<% @all_job_offers.each do |offer| %>
    <%= react_component('LaastrasJobOfferShow', {
        job_offer_title: offer[:job_offer_title],
        apply_label: offer[:apply_label],
        close_label: @close_label,
        close_job_url: url_for(controller: 'laastras_job_offers', action: 'close', id: offer[:job_offer_id]),
        feature_labels: offer[:feature_labels],
        feature_job_url: url_for(controller: 'laastras_job_offers', action: 'feature', id: offer[:job_offer_id]),
        unfeature_job_url: url_for(controller: 'laastras_job_offers', action: 'unfeature', id: offer[:job_offer_id]),
        archive_job_url: url_for(controller: 'laastras_job_offers', action: 'archive', id: offer[:job_offer_id]),
        job_offer_description: offer[:job_offer_description],
        application_url: offer[:application_url],
        html_ids: offer[:html_ids]
    })%>
<% end %>